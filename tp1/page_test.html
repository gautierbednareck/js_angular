<!DOCTYPE html>
<html>
<head>
	<title>liste js</title>
</head>
<body>
	<input type="text" id="word">
	<input type="button" onClick="add();" value="add"  >
	<ul id="liste">
		
	</ul>
	
	<script type="text/javascript">
		//var num=counts();
		
		
		var valmax=sessionStorage.getItem('compteur');
			console.log ("compteur2: "+valmax);

			if (valmax==null){
				valmax=0
			}
		
		var valmax = parseInt(valmax, 10);
		for (var i = 0; i < valmax; i++) {
			var newLis = document.createElement('li');
			var elementReturn=sessionStorage.getItem('li'+i);
			newLis.innerHTML = elementReturn;
			document.getElementById('liste').appendChild(newLis);
		}

		function add() {
			var newLi = document.createElement('li');
			var containt = document.getElementById('word').value;
			console.log("text: "+containt);

			//compteur
			valmax +=1;
			
			//ajout
			console.log ("compteur: "+valmax);
			sessionStorage.setItem('li'+valmax,containt);
			sessionStorage.setItem('compteur',valmax);


			//attribution des valeurs
			newLi.innerHTML = containt;
			console.log(newLi);

			//ajout des valeurs
			document.getElementById('liste').appendChild(newLi);
		}

	</script>


</body>
</html>

